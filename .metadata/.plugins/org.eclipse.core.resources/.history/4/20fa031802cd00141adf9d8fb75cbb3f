var api = require("api");
var cloudModule = require("ti.cloud");

cloudModule.debug = true;

var userId;

var loginCloud = function(){
	cloudModule.Users.login({
		login : "com.voshell.taco",
		password : "12345"
	}, function(e) {
		if (e.success) {
			console.log("cloud working!");
			api.getJson();
	
		} else {
			alert ("error " + e.message);
		}
	});
};

var saveCloud = function(recipe) {
	console.log("cloud");
	console.log(recipe);
	/*cloudModule.Objects.create({
		classname : "randomTacoRecipe",
		fields : {
			shellName : recipe.shell.name,
		 	shellRecipe : recipe.shell.recipe,
			mixinName : recipe.mixin.name,
			mixinRecipe : recipe.mixin.recipe,
			mixinUrl : recipe.mixin.url,
			seasoningName : recipe.seasoning.name,
			seasoningRecipe : recipe.seasoning.recipe,
			seasoningUrl : recipe.seasoning.url,
		 	condimentName : recipe.condiment.name,
			condimentRecipe : recipe.condiment.recipe,
			condimentUrl : recipe.condiment.url,
			baseName : recipe.base_layer.name,
		 	baseRecipe : recipe.base_layer.recipe,
			baseUrl : recipe.base_layer.url
		
	}, function(e) {
		if (e.success) {
			console.log(cloud);
		} else {
			alert ("Cloud no worky");
		}
		
	});*/
	
};

exports.loginCloud = loginCloud;
exports.saveCloud = saveCloud;