var storage=require("storage"),win1=Ti.UI.createWindow({backgroundColor:"#F8F5E1",layout:"vertical"}),win2=Ti.UI.createWindow({backgroundImage:"/images/background.jpg",layout:"vertical"}),win3=Ti.UI.createWindow({backgroundColor:"#F8F5E1",layout:"vertical"}),win4=Ti.UI.createWindow({backgroundColor:"#F8F5E1",layout:"vertical"}),recScroll=Ti.UI.createScrollView({height:"90%",width:"50%",borderRadius:10,top:40,layout:"vertical",showVerticalScrollIndicator:!0,contentWidth:"auto",contentHeight:"auto",scrollType:"vertical"}),baseNameV=Ti.UI.createView({name:"baseName",height:"15%",width:"80%",layout:"vertical"}),conNameV=Ti.UI.createView({top:3,name:"conName",height:"15%",width:"80%",layout:"vertical"}),mixNameV=Ti.UI.createView({top:3,name:"mixName",height:"15%",width:"80%",layout:"vertical"}),seaNameV=Ti.UI.createView({top:3,name:"seaName",height:"15%",width:"80%",layout:"vertical"}),sheNameV=Ti.UI.createView({top:3,name:"sheName",height:"15%",width:"80%",layout:"vertical"}),nameLabel=Ti.UI.createLabel({text:"recipe[i].baseRecipe,",font:{fontSize:20,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),baseNameL=Ti.UI.createLabel({text:"recipe[i].baseName",name:"baseName",font:{fontSize:23,fontFamily:"Roboto"},top:15,color:"black"}),recLabel=Ti.UI.createLabel({text:"recipe[i].baseRecipe",font:{fontSize:20,fontFamily:"Roboto"},top:20,color:"black"}),base=Ti.UI.createLabel({text:"Filling : ",name:"baseName",font:{fontSize:27,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),conNameL=Ti.UI.createLabel({text:"recipe[i].condimentName",name:"conName",font:{fontSize:23,fontFamily:"Roboto"},top:20,color:"black"}),con=Ti.UI.createLabel({text:"Condiment : ",name:"conName",font:{fontSize:27,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),mixNameL=Ti.UI.createLabel({text:"recipe[i].mixinName",name:"mixName",font:{fontSize:23,fontFamily:"Roboto"},top:20,color:"black"}),top=Ti.UI.createLabel({text:"Toppings : ",name:"mixName",font:{fontSize:27,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),seaNameL=Ti.UI.createLabel({text:"recipe[i].seasoningName",name:"seaName",font:{fontSize:23,fontFamily:"Roboto"},top:20,color:"black"}),sea=Ti.UI.createLabel({text:"Seasoning : ",name:"seaName",font:{fontSize:27,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),sheNameL=Ti.UI.createLabel({text:"recipe[i].shellName",name:"sheName",font:{fontSize:23,fontFamily:"Roboto"},top:20,color:"black"}),shell=Ti.UI.createLabel({text:"Shell Type : ",name:"sheName",font:{fontSize:27,fontFamily:"Roboto",fontWeight:"bold"},top:20,color:"black"}),getNewView=Ti.UI.createView({width:"50%",height:"7%",top:20,name:"getNew",backgroundColor:"#B22222"}),getNew=Ti.UI.createLabel({text:"Get new random taco recipe",font:{fontSize:20,fontFamily:"Roboto"},name:"getNew",color:"white"}),backV=Ti.UI.createView({backgroundColor:"#B22222 ",height:"7%",width:"50%"}),back=Ti.UI.createLabel({text:"Return to Recipes",font:{fontSize:20,fontFamily:"Roboto"},color:"white"}),heart=Ti.UI.createView({name:"heart",backgroundImage:"/images/heart.ico",right:20,width:50,height:50}),showCamera=Ti.UI.createLabel({text:"Take a pic",font:{fontSize:20,fontFamily:"Roboto"},name:"camera",color:"white"}),showCameraView=Ti.UI.createView({height:"7%",bottom:15,width:"50%",name:"camera",backgroundColor:"#B22222 "});getNewView.add(getNew),win1.add(getNewView),win1.add(heart),baseNameV.add(base),baseNameV.add(baseNameL),conNameV.add(con),conNameV.add(conNameL),mixNameV.add(top),mixNameV.add(mixNameL),seaNameV.add(sea),seaNameV.add(seaNameL),sheNameV.add(shell),sheNameV.add(sheNameL),recScroll.add(nameLabel),recScroll.add(recLabel),backV.add(back),win1.add(baseNameV),win1.add(conNameV),win1.add(mixNameV),win1.add(seaNameV),win1.add(sheNameV),win2.add(recScroll),win2.add(backV),showCameraView.add(showCamera),win1.add(showCameraView);var runUi=function(e,a){baseNameL.text=e[a].baseName,conNameL.text=e[a].condimentName,mixNameL.text=e[a].mixinName,seaNameL.text=e[a].seasoningName,sheNameL.text=e[a].shellName,"android"===Ti.Platform.osname?(win1.backgroundColor="#F8F5E1",win2.backgroundColor="#F8F5E1",recScroll.width="90%"):(win1.backgroundImage="/images/background.jpg",win2.backgroundImage="/images/background.jpg",recScroll.width="50%"),win1.open(),backV.addEventListener("click",function(){console.log("back button fired"),win2.close(),win1.open()}),win1.addEventListener("click",function(o){if(console.log("click"+o.source.name),"baseName"===o.source.name&&(console.log("base Name"),win1.close(),nameLabel.text=e[a].baseName,recLabel.text=e[a].baseRecipe,win2.open()),"conName"===o.source.name&&(console.log("con Name"),win1.close(),nameLabel.text=e[a].condimentName,recLabel.text=e[a].condimentRecipe,win2.open()),"mixName"===o.source.name&&(console.log("mix Name"),win1.close(),nameLabel.text=e[a].mixinName,recLabel.text=e[a].mixinRecipe,win2.open()),"seaName"===o.source.name&&(console.log("sea Name"),win1.close(),nameLabel.text=e[a].seasoningName,recLabel.text=e[a].seasoningRecipe,win2.open()),"sheName"===o.source.name&&(console.log("she Name"),win1.close(),nameLabel.text=e[a].shellName,recLabel.text=e[a].shellRecipe,win2.open()),"camera"===o.source.name&&(console.log("camera"),Ti.Media.showCamera({saveToPhotoGallery:!0,mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO],success:function(e){alert(e.mediaType===Ti.Media.MEDIA_TYPE_PHOTO?"Image saved to camera roll":"error"+e.mediaType)},error:function(e){alert(e.code===Ti.Media.NO_CAMERA?"No Camera Detected":"other error: "+e.code)}})),"getNew"===o.source.name){var i=require("api");i.getJson()}if("heart"===o.source.name){console.log(e[a]);var n=require("fav");n.storeFav(e[a])}})};exports.runUi=runUi;