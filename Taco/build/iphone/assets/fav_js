var favUi=require("favUi"),readFav=function(){for(var e=Ti.Database.open("recipeDB"),i=e.execute("SELECT * FROM favTBL "),n=i.rowCount-1,a=[];i.isValidRow();)a.push({baseName:i.fieldByName("baseName"),baseUrl:i.fieldByName("baseUrl"),baseRecipe:i.fieldByName("baseRecipe"),condimentName:i.fieldByName("condimentName"),condimentRecipe:i.fieldByName("condimentRecipe"),condimentUrl:i.fieldByName("condimentUrl"),mixinName:i.fieldByName("mixinName"),mixinRecipe:i.fieldByName("mixinRecipe"),mixinUrl:i.fieldByName("mixinUrl"),seasoningName:i.fieldByName("seasoningName"),seasoningRecipe:i.fieldByName("seasoningRecipe"),seasoningUrl:i.fieldByName("seasoningUrl"),shellName:i.fieldByName("shellName"),shellRecipe:i.fieldByName("shellRecipe")}),i.next();i.close(),e.close(),favUi.runUi2(a,n)},storeFav=function(e){var i=Ti.Database.open("recipeDB");i.execute("CREATE TABLE IF NOT EXISTS favTBL (id INTEGER PRIMARY KEY, baseName TEXT, baseUrl TEXT, baseRecipe TEXT, condimentName TEXT, condimentRecipe TEXT, condimentUrl TEXT, mixinName TEXT, mixinRecipe TEXT, mixinUrl TEXT, seasoningName TEXT, seasoningRecipe TEXT, seasoningUrl TEXT,  shellName TEXT, shellRecipe TEXT)"),i.execute("INSERT INTO favTBL(baseName, baseUrl, baseRecipe, condimentName, condimentRecipe, condimentUrl, mixinName, mixinRecipe, mixinUrl, seasoningName, seasoningRecipe, seasoningUrl, shellName, shellRecipe) VALUES (?,?,?, ?,?,?, ?,?,?, ?,?,?, ?,?)",e.baseName,e.baseUrl,e.baseRecipe,e.condimentName,e.condimentRecipe,e.condimentUrl,e.mixinName,e.mixinRecipe,e.mixinUrl,e.seasoningName,e.seasoningRecipe,e.seasoningUrl,e.shellName,e.shellRecipe);i.lastInsertRowId;i.close(),readFav()};exports.storeFav=storeFav,exports.readFav=readFav;